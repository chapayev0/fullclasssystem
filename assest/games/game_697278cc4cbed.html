<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Computer Builder Challenge - ICT Educational Game</title>
    <link rel="icon" type="image/png" href="../logo/logo1.png">
    <link
        href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Outfit:wght@300;400;600;700&display=swap"
        rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #0284c7;
            --secondary: #7c3aed;
            --accent: #d97706;
            --dark: #1e293b;
            --darker: #0f172a;
            --light: #ffffff;
            --light-bg: #f8fafc;
            --border: #e2e8f0;
            --text: #1e293b;
            --text-light: #64748b;
            --success: #059669;
            --danger: #dc2626;
        }

        body {
            font-family: 'Outfit', sans-serif;
            background: linear-gradient(135deg, #e0f2fe 0%, #ddd6fe 100%);
            color: var(--text);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Animated Background */
        .bg-pattern {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.4;
            background-image:
                repeating-linear-gradient(0deg, transparent, transparent 50px, rgba(14, 165, 233, 0.03) 50px, rgba(14, 165, 233, 0.03) 51px),
                repeating-linear-gradient(90deg, transparent, transparent 50px, rgba(139, 92, 246, 0.03) 50px, rgba(139, 92, 246, 0.03) 51px);
            pointer-events: none;
            z-index: 0;
        }

        /* Header */
        .header {
            text-align: center;
            padding: 40px 20px;
            position: relative;
            z-index: 1;
        }

        .header h1 {
            font-family: 'Space Mono', monospace;
            font-size: 3rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from {
                filter: drop-shadow(0 0 10px rgba(14, 165, 233, 0.5));
            }

            to {
                filter: drop-shadow(0 0 20px rgba(139, 92, 246, 0.8));
            }
        }

        .header p {
            font-size: 1.2rem;
            color: var(--text);
            opacity: 0.7;
        }

        /* Page Container */
        .page {
            display: none;
            animation: fadeIn 0.5s ease-in;
            position: relative;
            z-index: 1;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Card Styles */
        .card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 40px;
            margin: 20px auto;
            max-width: 800px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
        }

        .card h2 {
            font-family: 'Space Mono', monospace;
            font-size: 2rem;
            margin-bottom: 30px;
            color: var(--primary);
            text-align: center;
        }

        /* User Profile Display */
        .profile-card {
            background: linear-gradient(135deg, rgba(14, 165, 233, 0.08), rgba(139, 92, 246, 0.08));
            border: 2px solid var(--primary);
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            display: grid;
            grid-template-columns: auto 1fr;
            gap: 30px;
            align-items: center;
        }

        .profile-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            font-weight: bold;
            color: white;
        }

        .profile-info {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .profile-info-row {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .profile-tag {
            background: rgba(14, 165, 233, 0.1);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.95rem;
            border: 1px solid var(--border);
            color: var(--text);
        }

        .profile-tag strong {
            color: var(--accent);
            margin-right: 5px;
        }

        /* Buttons */
        .btn {
            font-family: 'Outfit', sans-serif;
            font-size: 1.1rem;
            padding: 15px 40px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            box-shadow: 0 10px 30px rgba(14, 165, 233, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(14, 165, 233, 0.5);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.9);
            color: var(--primary);
            border: 2px solid var(--primary);
        }

        .btn-secondary:hover {
            background: rgba(14, 165, 233, 0.1);
            transform: translateY(-2px);
        }

        .button-group {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 30px;
        }

        /* Choice Cards */
        .choice-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .choice-card {
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid var(--border);
            border-radius: 15px;
            padding: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            position: relative;
        }

        .choice-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            box-shadow: 0 15px 40px rgba(14, 165, 233, 0.2);
        }

        .choice-card.selected {
            background: rgba(14, 165, 233, 0.1);
            border-color: var(--primary);
            border-width: 3px;
        }

        .choice-icon {
            font-size: 4rem;
            margin-bottom: 15px;
        }

        .choice-card h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: var(--accent);
        }

        .choice-card p {
            font-size: 0.95rem;
            opacity: 0.7;
            line-height: 1.6;
            color: var(--text);
        }

        /* Builder Interface */
        .builder-layout {
            display: grid;
            grid-template-columns: 300px 1fr 300px;
            gap: 20px;
            margin-top: 20px;
        }

        .builder-sidebar {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border);
            border-radius: 15px;
            padding: 20px;
            height: fit-content;
            position: sticky;
            top: 20px;
        }

        .builder-sidebar h3 {
            font-family: 'Space Mono', monospace;
            color: var(--accent);
            margin-bottom: 20px;
            font-size: 1.3rem;
        }

        .component-option {
            background: rgba(14, 165, 233, 0.05);
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .component-option:hover {
            background: rgba(14, 165, 233, 0.1);
            border-color: var(--primary);
        }

        .component-option.selected {
            background: rgba(14, 165, 233, 0.15);
            border-color: var(--primary);
            border-width: 2px;
        }

        .component-name {
            font-weight: 600;
            color: var(--text);
            margin-bottom: 5px;
        }

        .component-price {
            color: var(--accent);
            font-weight: 700;
            font-size: 1.1rem;
        }

        .component-specs {
            font-size: 0.85rem;
            opacity: 0.6;
            margin-top: 5px;
            color: var(--text);
        }

        /* Center Build Area */
        .builder-center {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border);
            border-radius: 15px;
            padding: 30px;
        }

        .device-preview {
            text-align: center;
            margin-bottom: 30px;
        }

        .device-image {
            width: 100%;
            max-width: 500px;
            height: 300px;
            background: rgba(14, 165, 233, 0.05);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            font-size: 8rem;
            border: 2px solid var(--border);
        }

        .selected-components {
            background: rgba(14, 165, 233, 0.05);
            border-radius: 10px;
            padding: 20px;
        }

        .selected-components h4 {
            color: var(--primary);
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .component-item {
            display: flex;
            justify-content: space-between;
            padding: 10px;
            margin-bottom: 8px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 8px;
            font-size: 0.95rem;
            border: 1px solid var(--border);
        }

        .component-item-name {
            color: var(--text);
        }

        .component-item-value {
            color: var(--accent);
            font-weight: 600;
        }

        /* Budget Display */
        .budget-display {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border);
            border-radius: 15px;
            padding: 20px;
            height: fit-content;
            position: sticky;
            top: 20px;
        }

        .budget-display h3 {
            font-family: 'Space Mono', monospace;
            color: var(--accent);
            margin-bottom: 20px;
            font-size: 1.3rem;
        }

        .budget-item {
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border);
        }

        .budget-label {
            font-size: 0.9rem;
            opacity: 0.6;
            margin-bottom: 8px;
            color: var(--text);
        }

        .budget-value {
            font-size: 1.8rem;
            font-weight: 700;
            font-family: 'Space Mono', monospace;
        }

        .budget-value.total {
            color: var(--primary);
        }

        .budget-value.spent {
            color: var(--accent);
        }

        .budget-value.remaining {
            color: var(--success);
        }

        .budget-value.overspent {
            color: var(--danger);
        }

        .budget-bar {
            width: 100%;
            height: 30px;
            background: rgba(14, 165, 233, 0.1);
            border-radius: 15px;
            overflow: hidden;
            margin-top: 10px;
            position: relative;
            border: 1px solid var(--border);
        }

        .budget-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--success), var(--accent));
            transition: width 0.5s ease;
            border-radius: 15px;
        }

        .budget-bar-fill.overspent {
            background: linear-gradient(90deg, var(--danger), #dc2626);
        }

        /* Results Page */
        .results-card {
            background: linear-gradient(135deg, rgba(14, 165, 233, 0.08), rgba(139, 92, 246, 0.08));
            border: 2px solid var(--primary);
            border-radius: 20px;
            padding: 40px;
            margin: 20px 0;
        }

        .results-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .results-score {
            font-size: 5rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 20px 0;
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .result-section {
            background: rgba(255, 255, 255, 0.5);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid var(--border);
        }

        .result-section h4 {
            color: var(--accent);
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .feedback-item {
            display: flex;
            align-items: start;
            gap: 10px;
            margin-bottom: 12px;
            padding: 10px;
            background: rgba(14, 165, 233, 0.05);
            border-radius: 8px;
            border: 1px solid var(--border);
            color: var(--text);
        }

        .feedback-icon {
            font-size: 1.3rem;
        }

        .category-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .category-tab {
            padding: 12px 25px;
            background: rgba(255, 255, 255, 0.7);
            border: 2px solid var(--border);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            color: var(--text);
        }

        .category-tab:hover {
            background: rgba(14, 165, 233, 0.1);
            border-color: var(--primary);
        }

        .category-tab.active {
            background: rgba(14, 165, 233, 0.15);
            border-color: var(--primary);
            color: var(--primary);
        }

        .component-list {
            display: none;
        }

        .component-list.active {
            display: block;
        }

        @media (max-width: 1200px) {
            .builder-layout {
                grid-template-columns: 1fr;
            }

            .builder-sidebar,
            .budget-display {
                position: relative;
                top: 0;
            }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }

            .card {
                padding: 20px;
            }

            .profile-card {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .choice-grid {
                grid-template-columns: 1fr;
            }

            .button-group {
                flex-direction: column;
            }

            .btn {
                width: 100%;
            }
        }
    </style>
</head>

<body>
    <div class="bg-pattern"></div>

    <div class="header">
        <h1>üíª Computer Builder Challenge</h1>
        <p>Match the perfect computer to each user's needs and budget</p>
    </div>

    <div class="container">
        <!-- Page 1: Welcome -->
        <div id="page-welcome" class="page active">
            <div class="card">
                <h2>Welcome to Computer Builder Challenge!</h2>
                <p style="text-align: center; font-size: 1.1rem; line-height: 1.8; margin: 30px 0;">
                    In this educational game, you'll learn how to select the right computer components
                    for different types of users. Each user has unique needs, budgets, and preferences.
                    Your job is to build them the perfect computer!
                </p>
                <div
                    style="background: rgba(14, 165, 233, 0.1); border-left: 4px solid var(--primary); padding: 20px; border-radius: 10px; margin: 30px 0;">
                    <p style="font-size: 1rem; line-height: 1.6;">
                        <strong>Learning Objectives:</strong><br>
                        ‚Ä¢ Understand different types of computer users and their requirements<br>
                        ‚Ä¢ Learn about computer components: CPU, RAM, Storage, GPU, etc.<br>
                        ‚Ä¢ Make budget-conscious decisions when building computers<br>
                        ‚Ä¢ Match hardware specifications to user needs
                    </p>
                </div>
                <div class="button-group">
                    <button class="btn btn-primary" onclick="startGame()">Start Challenge</button>
                </div>
            </div>
        </div>

        <!-- Page 2: User Profile -->
        <div id="page-profile" class="page">
            <div class="card">
                <h2>Meet Your User</h2>
                <div class="profile-card" id="profileCard"></div>
                <div class="button-group">
                    <button class="btn btn-secondary" onclick="generateNewUser()">üîÑ Generate New User</button>
                    <button class="btn btn-primary" onclick="goToPage('page-device-choice')">Next: Choose Device Type
                        ‚Üí</button>
                </div>
            </div>
        </div>

        <!-- Page 3: Device Choice -->
        <div id="page-device-choice" class="page">
            <div class="card">
                <h2>Choose Device Type</h2>
                <p style="text-align: center; margin-bottom: 30px; opacity: 0.9;">
                    Based on your user's needs, select whether they need a Desktop PC or a Laptop.
                </p>
                <div class="choice-grid">
                    <div class="choice-card" onclick="selectDevice('desktop')">
                        <div class="choice-icon">üñ•Ô∏è</div>
                        <h3>Desktop PC</h3>
                        <p>More powerful, upgradeable, better cooling, stationary setup. Best for gaming, video editing,
                            and heavy workloads.</p>
                    </div>
                    <div class="choice-card" onclick="selectDevice('laptop')">
                        <div class="choice-icon">üíª</div>
                        <h3>Laptop</h3>
                        <p>Portable, all-in-one, battery-powered, space-efficient. Best for travel, students, and mobile
                            professionals.</p>
                    </div>
                </div>
                <div class="button-group">
                    <button class="btn btn-secondary" onclick="goToPage('page-profile')">‚Üê Back</button>
                    <button class="btn btn-primary" id="deviceNextBtn" style="display: none;"
                        onclick="goToPage('page-os-choice')">Next: Choose OS ‚Üí</button>
                </div>
            </div>
        </div>

        <!-- Page 4: OS Choice -->
        <div id="page-os-choice" class="page">
            <div class="card">
                <h2>Choose Operating System</h2>
                <p style="text-align: center; margin-bottom: 30px; opacity: 0.9;">
                    Select the operating system that best fits your user's requirements.
                </p>
                <div class="choice-grid">
                    <div class="choice-card" onclick="selectOS('windows')">
                        <div class="choice-icon">ü™ü</div>
                        <h3>Windows</h3>
                        <p>Most compatible, wide software support, gaming-friendly. Great for general use and business.
                        </p>
                    </div>
                    <div class="choice-card" onclick="selectOS('macos')">
                        <div class="choice-icon">üçé</div>
                        <h3>macOS (Apple)</h3>
                        <p>Premium build quality, optimized performance, creative professional tools. Best for design
                            and development.</p>
                    </div>
                    <div class="choice-card" onclick="selectOS('linux')">
                        <div class="choice-icon">üêß</div>
                        <h3>Linux</h3>
                        <p>Open-source, highly customizable, developer-friendly, free. Best for programmers and tech
                            enthusiasts.</p>
                    </div>
                </div>
                <div class="button-group">
                    <button class="btn btn-secondary" onclick="goToPage('page-device-choice')">‚Üê Back</button>
                    <button class="btn btn-primary" id="osNextBtn" style="display: none;" onclick="goToBuilder()">Next:
                        Build Computer ‚Üí</button>
                </div>
            </div>
        </div>

        <!-- Page 5: Builder -->
        <div id="page-builder" class="page">
            <div style="text-align: center; margin-bottom: 20px;">
                <h2 style="font-family: 'Space Mono', monospace; font-size: 2rem; color: var(--primary);">Build Your
                    Computer</h2>
                <p style="opacity: 0.9;">Select components for each category. Watch your budget!</p>
            </div>

            <div class="builder-layout">
                <!-- Left Sidebar: Component Selection -->
                <div class="builder-sidebar">
                    <h3>Select Components</h3>
                    <div class="category-tabs" id="categoryTabs"></div>
                    <div id="componentOptions"></div>
                </div>

                <!-- Center: Preview & Selected Components -->
                <div class="builder-center">
                    <div class="device-preview">
                        <div class="device-image" id="deviceImage">üñ•Ô∏è</div>
                        <h3 id="deviceTypeLabel" style="color: var(--accent);">Desktop PC</h3>
                    </div>
                    <div class="selected-components">
                        <h4>üì¶ Your Build Configuration</h4>
                        <div id="selectedComponentsList"></div>
                    </div>
                    <div class="button-group" style="margin-top: 30px;">
                        <button class="btn btn-secondary" onclick="goToPage('page-os-choice')">‚Üê Back</button>
                        <button class="btn btn-primary" onclick="submitBuild()">Submit Build ‚úÖ</button>
                    </div>
                </div>

                <!-- Right Sidebar: Budget -->
                <div class="budget-display">
                    <h3>üí∞ Budget Tracker</h3>
                    <div class="budget-item">
                        <div class="budget-label">Total Budget</div>
                        <div class="budget-value total" id="totalBudget">Rs. 0</div>
                    </div>
                    <div class="budget-item">
                        <div class="budget-label">Spent</div>
                        <div class="budget-value spent" id="spentBudget">Rs. 0</div>
                    </div>
                    <div class="budget-item" style="border-bottom: none;">
                        <div class="budget-label">Remaining</div>
                        <div class="budget-value remaining" id="remainingBudget">Rs. 0</div>
                        <div class="budget-bar">
                            <div class="budget-bar-fill" id="budgetBarFill" style="width: 0%;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Page 6: Results -->
        <div id="page-results" class="page">
            <div class="card">
                <div class="results-card">
                    <div class="results-header">
                        <h2>üéâ Build Complete!</h2>
                        <div class="results-score" id="finalScore">85%</div>
                        <p style="font-size: 1.2rem; opacity: 0.9;" id="scoreMessage">Good job!</p>
                    </div>

                    <div class="results-grid">
                        <div class="result-section">
                            <h4>üìä Performance Analysis</h4>
                            <div id="performanceAnalysis"></div>
                        </div>
                        <div class="result-section">
                            <h4>üíµ Budget Analysis</h4>
                            <div id="budgetAnalysis"></div>
                        </div>
                    </div>

                    <div class="result-section" style="margin-top: 20px;">
                        <h4>üîß Your Final Build</h4>
                        <div id="finalBuildSummary"></div>
                    </div>

                    <div class="button-group" style="margin-top: 40px;">
                        <button class="btn btn-secondary" onclick="goToPage('page-builder')">‚Üê Modify Build</button>
                        <button class="btn btn-primary" onclick="restartGame()">üîÑ New Challenge</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Game State
        let gameState = {
            user: null,
            deviceType: null,
            os: null,
            selectedComponents: {},
            totalSpent: 0
        };

        // User profiles data (budgets in Rs.)
        const professions = [
            { name: 'Graphic Designer', needs: ['gpu', 'ram'], budget: [350000, 550000], icon: 'üé®' },
            { name: 'Video Editor', needs: ['gpu', 'ram', 'storage'], budget: [450000, 750000], icon: 'üé¨' },
            { name: 'Software Developer', needs: ['cpu', 'ram'], budget: [280000, 480000], icon: 'üíª' },
            { name: 'Gaming Enthusiast', needs: ['gpu', 'cpu'], budget: [400000, 650000], icon: 'üéÆ' },
            { name: 'Student', needs: ['balanced'], budget: [120000, 250000], icon: 'üìö' },
            { name: 'Office Worker', needs: ['basic'], budget: [150000, 280000], icon: 'üìä' },
            { name: '3D Animator', needs: ['gpu', 'cpu', 'ram'], budget: [550000, 900000], icon: 'üé≠' },
            { name: 'Data Scientist', needs: ['cpu', 'ram', 'storage'], budget: [400000, 650000], icon: 'üìà' },
            { name: 'Content Creator', needs: ['gpu', 'storage'], budget: [350000, 550000], icon: 'üìπ' },
            { name: 'Music Producer', needs: ['cpu', 'ram', 'storage'], budget: [320000, 520000], icon: 'üéµ' },
        ];

        const names = {
            male: ['James', 'Robert', 'Michael', 'David', 'Daniel', 'Matthew', 'Christopher', 'Andrew', 'Joshua', 'Ryan'],
            female: ['Emma', 'Olivia', 'Sophia', 'Isabella', 'Mia', 'Charlotte', 'Amelia', 'Harper', 'Evelyn', 'Ava']
        };

        // Component database - Desktop PC
        const desktopComponents = {
            processor: [
                { name: 'Intel Core i3-12100', price: 35000, gen: '12th', specs: '4 Cores, 8 Threads, 3.3GHz', performance: 60 },
                { name: 'Intel Core i5-13400', price: 65000, gen: '13th', specs: '10 Cores, 16 Threads, 2.5GHz', performance: 75 },
                { name: 'Intel Core i7-13700K', price: 115000, gen: '13th', specs: '16 Cores, 24 Threads, 3.4GHz', performance: 90 },
                { name: 'AMD Ryzen 5 5600X', price: 55000, gen: 'Zen 3', specs: '6 Cores, 12 Threads, 3.7GHz', performance: 70 },
                { name: 'AMD Ryzen 7 7700X', price: 105000, gen: 'Zen 4', specs: '8 Cores, 16 Threads, 4.5GHz', performance: 88 },
                { name: 'AMD Ryzen 9 7950X', price: 165000, gen: 'Zen 4', specs: '16 Cores, 32 Threads, 4.5GHz', performance: 98 }
            ],
            ram: [
                { name: '8GB DDR4 3200MHz', price: 8000, specs: '8GB, DDR4, 3200MHz', performance: 50 },
                { name: '16GB DDR4 3600MHz', price: 15000, specs: '16GB, DDR4, 3600MHz', performance: 70 },
                { name: '32GB DDR4 3600MHz', price: 28000, specs: '32GB, DDR4, 3600MHz', performance: 85 },
                { name: '16GB DDR5 5600MHz', price: 22000, specs: '16GB, DDR5, 5600MHz', performance: 80 },
                { name: '32GB DDR5 6000MHz', price: 45000, specs: '32GB, DDR5, 6000MHz', performance: 95 },
                { name: '64GB DDR5 6400MHz', price: 90000, specs: '64GB, DDR5, 6400MHz', performance: 100 }
            ],
            storage: [
                { name: '256GB SATA SSD', price: 6000, specs: '256GB, SATA, 550MB/s', performance: 50 },
                { name: '512GB NVMe SSD', price: 12000, specs: '512GB, NVMe, 3500MB/s', performance: 70 },
                { name: '1TB NVMe SSD', price: 22000, specs: '1TB, NVMe, 3500MB/s', performance: 85 },
                { name: '2TB NVMe Gen4 SSD', price: 45000, specs: '2TB, NVMe Gen4, 7000MB/s', performance: 95 },
                { name: '4TB NVMe Gen4 SSD', price: 95000, specs: '4TB, NVMe Gen4, 7000MB/s', performance: 100 },
                { name: '1TB HDD + 512GB SSD', price: 18000, specs: '1TB HDD + 512GB SSD', performance: 65 }
            ],
            gpu: [
                { name: 'Integrated Graphics', price: 0, specs: 'CPU Integrated', performance: 30 },
                { name: 'NVIDIA GTX 1660 Super', price: 65000, specs: '6GB GDDR6, 1408 Cores', performance: 60 },
                { name: 'NVIDIA RTX 3060', price: 90000, specs: '12GB GDDR6, Ray Tracing', performance: 75 },
                { name: 'NVIDIA RTX 4060 Ti', price: 125000, specs: '16GB GDDR6, DLSS 3', performance: 85 },
                { name: 'NVIDIA RTX 4070', price: 175000, specs: '12GB GDDR6X, DLSS 3', performance: 92 },
                { name: 'NVIDIA RTX 4080', price: 350000, specs: '16GB GDDR6X, Ray Tracing', performance: 98 },
                { name: 'AMD RX 6700 XT', price: 95000, specs: '12GB GDDR6', performance: 78 },
                { name: 'AMD RX 7800 XT', price: 160000, specs: '16GB GDDR6', performance: 90 }
            ],
            motherboard: [
                { name: 'Basic B660 Board', price: 25000, specs: 'DDR4, PCIe 4.0', performance: 60 },
                { name: 'Mid B760 Board', price: 38000, specs: 'DDR5, PCIe 4.0', performance: 75 },
                { name: 'High-end Z790 Board', price: 72000, specs: 'DDR5, PCIe 5.0, WiFi', performance: 90 },
                { name: 'AMD B550 Board', price: 30000, specs: 'DDR4, PCIe 4.0', performance: 65 },
                { name: 'AMD X670E Board', price: 65000, specs: 'DDR5, PCIe 5.0, WiFi', performance: 88 }
            ],
            psu: [
                { name: '450W Bronze PSU', price: 12000, specs: '450W, 80+ Bronze', performance: 50 },
                { name: '650W Gold PSU', price: 22000, specs: '650W, 80+ Gold, Modular', performance: 75 },
                { name: '750W Gold PSU', price: 30000, specs: '750W, 80+ Gold, Full Modular', performance: 85 },
                { name: '850W Platinum PSU', price: 42000, specs: '850W, 80+ Platinum, Full Modular', performance: 95 }
            ],
            cooling: [
                { name: 'Stock Cooler', price: 0, specs: 'Basic Air Cooling', performance: 50 },
                { name: 'Tower Air Cooler', price: 8000, specs: 'Single Fan, 150W TDP', performance: 70 },
                { name: 'Premium Air Cooler', price: 18000, specs: 'Dual Fan, 220W TDP', performance: 85 },
                { name: '240mm AIO Liquid', price: 28000, specs: '240mm Radiator', performance: 90 },
                { name: '360mm AIO Liquid', price: 42000, specs: '360mm Radiator, RGB', performance: 98 }
            ],
            pccase: [
                { name: 'Basic ATX Case', price: 12000, specs: 'ATX, 2x Fans', performance: 60 },
                { name: 'Mid-Tower RGB Case', price: 22000, specs: 'ATX, 4x RGB Fans, Glass', performance: 75 },
                { name: 'Premium Case', price: 42000, specs: 'ATX, 6x Fans, Glass, Cable Mgmt', performance: 90 }
            ]
        };

        // Component database - Laptop
        const laptopComponents = {
            processor: [
                { name: 'Intel Core i3-1215U', price: 75000, specs: '6 Cores, 8 Threads, Low Power', performance: 55 },
                { name: 'Intel Core i5-1335U', price: 95000, specs: '10 Cores, 12 Threads, Efficient', performance: 70 },
                { name: 'Intel Core i7-1365U', price: 125000, specs: '10 Cores, 12 Threads, High Perf', performance: 82 },
                { name: 'Intel Core i7-13700H', price: 165000, specs: '14 Cores, 20 Threads, Gaming', performance: 90 },
                { name: 'AMD Ryzen 5 7530U', price: 85000, specs: '6 Cores, 12 Threads, Efficient', performance: 68 },
                { name: 'AMD Ryzen 7 7840HS', price: 145000, specs: '8 Cores, 16 Threads, AI Ready', performance: 88 },
                { name: 'Apple M2', price: 175000, specs: '8-Core CPU, 10-Core GPU', performance: 92 },
                { name: 'Apple M3 Pro', price: 285000, specs: '12-Core CPU, 18-Core GPU', performance: 98 }
            ],
            ram: [
                { name: '8GB LPDDR4X', price: 0, specs: '8GB Soldered, 4266MHz', performance: 50 },
                { name: '16GB LPDDR5', price: 15000, specs: '16GB Soldered, 5200MHz', performance: 75 },
                { name: '32GB LPDDR5', price: 35000, specs: '32GB Soldered, 5200MHz', performance: 90 },
                { name: '16GB DDR5 Upgradeable', price: 12000, specs: '16GB, User Upgradeable', performance: 72 },
                { name: '32GB DDR5 Upgradeable', price: 28000, specs: '32GB, User Upgradeable', performance: 88 }
            ],
            storage: [
                { name: '256GB NVMe SSD', price: 0, specs: '256GB, Fast Boot', performance: 55 },
                { name: '512GB NVMe SSD', price: 12000, specs: '512GB, Good Balance', performance: 72 },
                { name: '1TB NVMe SSD', price: 25000, specs: '1TB, Plenty of Space', performance: 88 },
                { name: '2TB NVMe SSD', price: 55000, specs: '2TB, Maximum Storage', performance: 98 }
            ],
            display: [
                { name: '14" FHD IPS 60Hz', price: 0, specs: '1920x1080, 250 nits', performance: 55 },
                { name: '15.6" FHD IPS 144Hz', price: 18000, specs: '1920x1080, 300 nits, Gaming', performance: 72 },
                { name: '14" 2.8K OLED 90Hz', price: 35000, specs: '2880x1800, HDR, Vibrant', performance: 90 },
                { name: '16" 4K IPS 120Hz', price: 45000, specs: '3840x2400, Creator Grade', performance: 95 },
                { name: '15.6" QHD 165Hz', price: 28000, specs: '2560x1440, High Refresh', performance: 85 }
            ],
            gpu: [
                { name: 'Integrated Graphics', price: 0, specs: 'CPU Integrated', performance: 35 },
                { name: 'NVIDIA RTX 3050 Laptop', price: 25000, specs: '4GB GDDR6, Entry Gaming', performance: 60 },
                { name: 'NVIDIA RTX 4050 Laptop', price: 45000, specs: '6GB GDDR6, DLSS 3', performance: 72 },
                { name: 'NVIDIA RTX 4060 Laptop', price: 75000, specs: '8GB GDDR6, Ray Tracing', performance: 82 },
                { name: 'NVIDIA RTX 4070 Laptop', price: 115000, specs: '8GB GDDR6, High-End', performance: 92 },
                { name: 'AMD Radeon RX 7600M', price: 55000, specs: '8GB GDDR6', performance: 75 }
            ],
            battery: [
                { name: '42Wh Battery', price: 0, specs: '3-4 Hours, Basic Use', performance: 45 },
                { name: '54Wh Battery', price: 8000, specs: '5-6 Hours, All-Day Light', performance: 65 },
                { name: '72Wh Battery', price: 18000, specs: '8-10 Hours, Road Warrior', performance: 85 },
                { name: '99Wh Battery', price: 32000, specs: '12+ Hours, Maximum', performance: 98 }
            ]
        };

        // Helper to get current components based on device type
        function getComponents() {
            return gameState.deviceType === 'laptop' ? laptopComponents : desktopComponents;
        }

        // Generate random user
        function generateNewUser() {
            const gender = Math.random() > 0.5 ? 'male' : 'female';
            const age = Math.floor(Math.random() * (65 - 18 + 1)) + 18;
            const profession = professions[Math.floor(Math.random() * professions.length)];
            const firstName = names[gender][Math.floor(Math.random() * names[gender].length)];
            const budget = Math.floor(Math.random() * (profession.budget[1] - profession.budget[0] + 1)) + profession.budget[0];

            gameState.user = {
                name: firstName,
                age: age,
                gender: gender,
                profession: profession.name,
                needs: profession.needs,
                budget: budget,
                icon: profession.icon
            };

            displayUserProfile();
        }

        function displayUserProfile() {
            const profile = gameState.user;
            const avatar = profile.name.charAt(0).toUpperCase();

            const html = `
                <div class="profile-avatar">${avatar}</div>
                <div class="profile-info">
                    <h3 style="font-size: 2rem; margin-bottom: 15px; color: var(--primary);">
                        ${profile.icon} ${profile.name}
                    </h3>
                    <div class="profile-info-row">
                        <div class="profile-tag"><strong>Age:</strong> ${profile.age}</div>
                        <div class="profile-tag"><strong>Gender:</strong> ${profile.gender === 'male' ? 'Male' : 'Female'}</div>
                        <div class="profile-tag"><strong>Profession:</strong> ${profile.profession}</div>
                    </div>
                    <div class="profile-info-row">
                        <div class="profile-tag" style="background: rgba(245, 158, 11, 0.2); border-color: var(--accent);">
                            <strong>Budget:</strong> Rs. ${profile.budget.toLocaleString()}
                        </div>
                    </div>
                    <p style="margin-top: 15px; font-size: 0.95rem; opacity: 0.8; line-height: 1.6;">
                        ${getProfileDescription(profile)}
                    </p>
                </div>
            `;

            document.getElementById('profileCard').innerHTML = html;
        }

        function getProfileDescription(profile) {
            const descriptions = {
                'Graphic Designer': 'Needs a powerful GPU and ample RAM for design software like Adobe Creative Suite.',
                'Video Editor': 'Requires excellent GPU, high RAM, and fast storage for 4K video editing.',
                'Software Developer': 'Needs a fast CPU and good RAM for compiling code and running virtual machines.',
                'Gaming Enthusiast': 'Requires high-end GPU and CPU for smooth gaming at high settings.',
                'Student': 'Needs a balanced, budget-friendly system for studying and general tasks.',
                'Office Worker': 'Requires basic performance for documents, email, and web browsing.',
                '3D Animator': 'Needs top-tier GPU, CPU, and RAM for rendering complex 3D scenes.',
                'Data Scientist': 'Requires powerful CPU, high RAM, and large storage for data processing.',
                'Content Creator': 'Needs good GPU and storage for video recording and editing.',
                'Music Producer': 'Requires fast CPU, good RAM, and reliable storage for audio production.'
            };
            return descriptions[profile.profession] || 'Looking for a computer that meets their specific needs.';
        }

        function startGame() {
            generateNewUser();
            goToPage('page-profile');
        }

        function goToPage(pageId) {
            document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            window.scrollTo(0, 0);
        }

        function selectDevice(type) {
            gameState.deviceType = type;
            document.querySelectorAll('#page-device-choice .choice-card').forEach(card => {
                card.classList.remove('selected');
            });
            event.target.closest('.choice-card').classList.add('selected');
            document.getElementById('deviceNextBtn').style.display = 'block';
        }

        function selectOS(os) {
            gameState.os = os;
            document.querySelectorAll('#page-os-choice .choice-card').forEach(card => {
                card.classList.remove('selected');
            });
            event.target.closest('.choice-card').classList.add('selected');
            document.getElementById('osNextBtn').style.display = 'block';
        }

        function goToBuilder() {
            goToPage('page-builder');
            initializeBuilder();
        }

        let currentCategory = 'processor';

        function initializeBuilder() {
            // Update device image
            const deviceIcon = gameState.deviceType === 'desktop' ? 'üñ•Ô∏è' : 'üíª';
            document.getElementById('deviceImage').textContent = deviceIcon;
            document.getElementById('deviceTypeLabel').textContent =
                gameState.deviceType === 'desktop' ? 'Desktop PC' : 'Laptop';

            // Update budget display
            document.getElementById('totalBudget').textContent = `Rs. ${gameState.user.budget.toLocaleString()}`;

            // Initialize selected components
            gameState.selectedComponents = {};

            // Get categories based on device type
            const components = getComponents();
            const categories = Object.keys(components);

            // Category labels for desktop
            const desktopLabels = {
                processor: 'üî≤ CPU',
                ram: 'üíæ RAM',
                storage: 'üíø Storage',
                gpu: 'üéÆ GPU',
                motherboard: 'üîß Motherboard',
                psu: '‚ö° PSU',
                cooling: '‚ùÑÔ∏è Cooling',
                pccase: 'üì¶ Case'
            };

            // Category labels for laptop
            const laptopLabels = {
                processor: 'üî≤ Processor',
                ram: 'üíæ RAM',
                storage: 'üíø Storage',
                display: 'üñ•Ô∏è Display',
                gpu: 'üéÆ Graphics',
                battery: 'üîã Battery'
            };

            const categoryLabels = gameState.deviceType === 'laptop' ? laptopLabels : desktopLabels;

            const tabsHtml = categories.map(cat =>
                `<div class="category-tab ${cat === currentCategory ? 'active' : ''}" onclick="switchCategory('${cat}')">
                    ${categoryLabels[cat] || cat}
                </div>`
            ).join('');
            document.getElementById('categoryTabs').innerHTML = tabsHtml;

            currentCategory = categories[0];
            switchCategory(categories[0]);
            updateBudget();
        }

        function switchCategory(category) {
            currentCategory = category;

            // Update active tab
            document.querySelectorAll('.category-tab').forEach(tab => tab.classList.remove('active'));
            event?.target?.classList?.add('active');

            // Get components for current device type
            const components = getComponents();

            // Display components for this category
            const componentsHtml = components[category].map((comp, index) => `
                <div class="component-option ${gameState.selectedComponents[category]?.name === comp.name ? 'selected' : ''}" 
                     onclick="selectComponent('${category}', ${index})">
                    <div class="component-name">${comp.name}</div>
                    <div class="component-price">Rs. ${comp.price.toLocaleString()}</div>
                    <div class="component-specs">${comp.specs}</div>
                </div>
            `).join('');

            document.getElementById('componentOptions').innerHTML = componentsHtml;
        }

        function selectComponent(category, index) {
            const components = getComponents();
            const component = components[category][index];
            gameState.selectedComponents[category] = component;

            // Update UI
            switchCategory(category);
            updateSelectedComponentsList();
            updateBudget();
        }

        function updateSelectedComponentsList() {
            const components = getComponents();
            const categories = Object.keys(components);

            // Category labels for desktop
            const desktopLabels = {
                processor: 'CPU',
                ram: 'RAM',
                storage: 'Storage',
                gpu: 'GPU',
                motherboard: 'Motherboard',
                psu: 'Power Supply',
                cooling: 'Cooling',
                pccase: 'Case'
            };

            // Category labels for laptop
            const laptopLabels = {
                processor: 'Processor',
                ram: 'RAM',
                storage: 'Storage',
                display: 'Display',
                gpu: 'Graphics',
                battery: 'Battery'
            };

            const categoryLabels = gameState.deviceType === 'laptop' ? laptopLabels : desktopLabels;

            const html = categories.map(cat => {
                const comp = gameState.selectedComponents[cat];
                return `
                    <div class="component-item">
                        <span class="component-item-name">${categoryLabels[cat] || cat}:</span>
                        <span class="component-item-value">${comp ? comp.name : 'Not selected'}</span>
                    </div>
                `;
            }).join('');

            document.getElementById('selectedComponentsList').innerHTML = html;
        }

        function updateBudget() {
            const total = gameState.user.budget;
            let spent = 0;

            Object.values(gameState.selectedComponents).forEach(comp => {
                spent += comp.price;
            });

            gameState.totalSpent = spent;
            const remaining = total - spent;
            const percentage = Math.min((spent / total) * 100, 100);

            document.getElementById('spentBudget').textContent = `Rs. ${spent.toLocaleString()}`;
            document.getElementById('remainingBudget').textContent = `Rs. ${remaining.toLocaleString()}`;

            const remainingEl = document.getElementById('remainingBudget');
            const barFill = document.getElementById('budgetBarFill');

            if (remaining < 0) {
                remainingEl.classList.remove('remaining');
                remainingEl.classList.add('overspent');
                barFill.classList.add('overspent');
            } else {
                remainingEl.classList.add('remaining');
                remainingEl.classList.remove('overspent');
                barFill.classList.remove('overspent');
            }

            barFill.style.width = `${percentage}%`;
        }

        function submitBuild() {
            // Check if all components are selected based on device type
            const components = getComponents();
            const requiredComponents = Object.keys(components);
            const missing = requiredComponents.filter(cat => !gameState.selectedComponents[cat]);

            if (missing.length > 0) {
                alert(`Please select all components. Missing: ${missing.join(', ')}`);
                return;
            }

            calculateResults();
            goToPage('page-results');
        }

        function calculateResults() {
            const user = gameState.user;
            const components = gameState.selectedComponents;
            const budget = user.budget;
            const spent = gameState.totalSpent;

            // Calculate performance score
            let performanceScore = 0;
            let performanceCount = 0;
            Object.values(components).forEach(comp => {
                if (comp.performance) {
                    performanceScore += comp.performance;
                    performanceCount++;
                }
            });
            performanceScore = performanceScore / performanceCount;

            // Calculate budget efficiency
            const budgetUsed = (spent / budget) * 100;
            let budgetScore = 100;
            if (budgetUsed > 100) {
                budgetScore = Math.max(0, 100 - (budgetUsed - 100));
            } else if (budgetUsed < 70) {
                budgetScore = budgetUsed / 70 * 100;
            }

            // Calculate needs matching
            let needsScore = 70; // Base score
            if (user.needs.includes('gpu')) {
                needsScore += components.gpu.performance > 70 ? 10 : -10;
            }
            if (user.needs.includes('cpu')) {
                needsScore += components.processor.performance > 70 ? 10 : -10;
            }
            if (user.needs.includes('ram')) {
                needsScore += components.ram.performance > 70 ? 10 : -10;
            }

            const finalScore = Math.round((performanceScore * 0.4 + budgetScore * 0.3 + needsScore * 0.3));

            // Display results
            document.getElementById('finalScore').textContent = `${finalScore}%`;

            let message = '';
            if (finalScore >= 90) message = 'üèÜ Excellent! Perfect build!';
            else if (finalScore >= 75) message = '‚≠ê Great job! Well balanced!';
            else if (finalScore >= 60) message = 'üëç Good effort! Room for improvement.';
            else message = 'üìö Keep learning! Try again.';

            document.getElementById('scoreMessage').textContent = message;

            // Performance analysis
            const perfHtml = `
                <div class="feedback-item">
                    <div class="feedback-icon">üíª</div>
                    <div>Overall Performance: ${Math.round(performanceScore)}%</div>
                </div>
                <div class="feedback-item">
                    <div class="feedback-icon">${performanceScore >= 80 ? '‚úÖ' : performanceScore >= 60 ? '‚ö†Ô∏è' : '‚ùå'}</div>
                    <div>${performanceScore >= 80 ? 'Excellent performance for the user\'s needs!' :
                    performanceScore >= 60 ? 'Adequate performance, but could be better.' :
                        'Performance may not meet user requirements.'}</div>
                </div>
            `;
            document.getElementById('performanceAnalysis').innerHTML = perfHtml;

            // Budget analysis
            const budgetHtml = `
                <div class="feedback-item">
                    <div class="feedback-icon">üí∞</div>
                    <div>Budget Used: ${budgetUsed.toFixed(1)}%</div>
                </div>
                <div class="feedback-item">
                    <div class="feedback-icon">${spent <= budget ? '‚úÖ' : '‚ùå'}</div>
                    <div>${spent <= budget ? 'Within budget! Good planning.' :
                    `Over budget by Rs. ${(spent - budget).toLocaleString()}!`}</div>
                </div>
                <div class="feedback-item">
                    <div class="feedback-icon">üí°</div>
                    <div>${budgetUsed > 95 ? 'Maximized budget efficiently!' :
                    budgetUsed > 70 ? 'Good budget utilization.' :
                        'Could have allocated more budget for better performance.'}</div>
                </div>
            `;
            document.getElementById('budgetAnalysis').innerHTML = budgetHtml;

            // Final build summary
            const summaryHtml = Object.entries(components).map(([cat, comp]) => `
                <div class="component-item">
                    <span class="component-item-name">${cat.toUpperCase()}:</span>
                    <span class="component-item-value">${comp.name} - Rs. ${comp.price.toLocaleString()}</span>
                </div>
            `).join('');
            document.getElementById('finalBuildSummary').innerHTML = summaryHtml;
        }

        function restartGame() {
            gameState = {
                user: null,
                deviceType: null,
                os: null,
                selectedComponents: {},
                totalSpent: 0
            };
            startGame();
        }

        // Initialize on load
        window.onload = function () {
            // Start at welcome page
        };
    </script>
</body>

</html>